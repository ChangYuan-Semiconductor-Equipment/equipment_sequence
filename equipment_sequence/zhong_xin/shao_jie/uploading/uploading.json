{
    "secs_conf": {
        "secs_ip": "10.192.13.65",
        "secs_port": 5000,
        "connect_mode": "PASSIVE",
        "model_name": "CYG SECSGEM",
        "software_version": "1.0.0",
        "database_open": false
    },
    "status_variable": {
        "current_control_state": {
            "svid": 501,
            "unit": "",
            "value": 0,
            "value_type": "BINARY",
            "description": "当前控制状态"
        },
        "current_machine_state": {
            "svid": 502,
            "unit": "",
            "value": 2,
            "value_type": "BINARY",
            "description": "当前运行状态"
        },
        "current_lot_name": {
            "svid": 503,
            "unit": "",
            "value": "lot_name_liuwei",
            "value_type": "ASCII",
            "description": "当前工单名称"
        },
        "lot_quantity": {
            "svid": 504,
            "unit": "",
            "value": 100,
            "value_type": "UINT_4",
            "description": "要生产的工单数量"
        },
        "current_recipe_name": {
            "svid": 505,
            "unit": "",
            "value": "S6A",
            "value_type": "ASCII",
            "description": "当前配方名称"
        },
        "current_recipe_id": {
            "svid": 506,
            "unit": "",
            "value": 1,
            "value_type": "UINT_4",
            "description": "当前配方id"
        },
        "pp_select_recipe_name": {
            "svid": 507,
            "unit": "",
            "value": "",
            "value_type": "ASCII",
            "description": "要切换配方名称"
        },
        "pp_select_recipe_id": {
            "svid": 508,
            "unit": "",
            "value": 0,
            "value_type": "UINT_4",
            "description": "要切换配方id"
        },
        "pp_select_state": {
            "svid": 509,
            "unit": "",
            "value": 0,
            "value_type": "UINT_4",
            "description": "配方切换结果, 1: 切换成功, 2: 切换失败"
        },
        "do_quantity": {
            "svid": 510,
            "unit": "",
            "value": 0,
            "value_type": "UINT_4",
            "description": "已经生产完成的产品数量"
        }
    },
    "equipment_constant": {
        "occur_alarm_code": {
            "ecid": 705,
            "unit": "",
            "default_value": 128,
            "value_type": "UINT_4",
            "description": "发生报警代码",
            "min_value": 0,
            "max_value": 0
        },
        "clear_alarm_code": {
            "ecid": 706,
            "unit": "",
            "default_value": 0,
            "value_type": "UINT_4",
            "description": "清除报警代码",
            "min_value": 0,
            "max_value": 0
        },
        "mes_heart_gap": {
            "ecid": 707,
            "unit": "",
            "default_value": 2,
            "value_type": "UINT_4",
            "description": "MES心跳间隔时间",
            "min_value": 0,
            "max_value": 0
        },
        "alarm_state": {
            "ecid": 708,
            "unit": "",
            "default_value": 4,
            "value_type": "UINT_4",
            "description": "报警状态",
            "min_value": 0,
            "max_value": 0
        },
        "mysql_user_name": {
            "ecid": 709,
            "unit": "",
            "default_value": "cyg",
            "value_type": "ASCII",
            "description": "用户名",
            "min_value": 0,
            "max_value": 0
        },
        "mysql_password": {
            "ecid": 710,
            "unit": "",
            "default_value": "liuwei.520",
            "value_type": "ASCII",
            "description": "密码",
            "min_value": 0,
            "max_value": 0
        },
        "mysql_host": {
            "ecid": 711,
            "unit": "",
            "default_value": "127.0.0.1",
            "value_type": "ASCII",
            "description": "数据库ip",
            "min_value": 0,
            "max_value": 0
        }
    },
    "collection_events": {
        "control_state_change": {
            "ceid": 1001,
            "description": "设备控制状态变化",
            "link_reports": {
                "1": [
                    501
                ]
            }
        },
        "machine_state_change": {
            "ceid": 1002,
            "description": "设备运行状态变化",
            "link_reports": {
                "2": [
                    502
                ]
            }
        },
        "carrier_in_request": {
            "ceid": 1003,
            "description": "空的托盘请求进站",
            "link_reports": {
                "3": [
                    602
                ]
            }
        },
        "product_in_carrier_request": {
            "ceid": 1004,
            "description": "产品请求放进托盘",
            "link_reports": {
                "4": [
                    601
                ]
            }
        },
        "carrier_out": {
            "ceid": 1005,
            "description": "放了产品的托盘出站",
            "link_reports": {
                "5": [
                    602
                ]
            }
        },
        "product_in_carrier": {
            "ceid": 1006,
            "description": "放了产品的托盘出站",
            "link_reports": {
                "6": [
                    602, 601, 603
                ]
            }
        },
        "pp_select_result": {
            "ceid": 2000,
            "description": "配方切换",
            "link_reports": {
                "20": [
                    505, 509, 507
                ]
            }
        }
    },
    "data_values": {
        "product_code": {
            "dvid": 601,
            "value_type": "ASCII",
            "description": "产品码"
        },
        "carrier_code": {
            "dvid": 602,
            "value_type": "ASCII",
            "description": "托盘码"
        },
        "carrier_index": {
            "dvid": 603,
            "value_type": "UINT_4",
            "description": "在托盘中穴位"
        },
        "is_eap_reply_carrier_in": {
            "dvid": 604,
            "value_type": "BOOL",
            "description": "eap是否回复了托盘进站请求"
        },
        "is_allow_carrier_in": {
            "dvid": 605,
            "value_type": "UINT_4",
            "description": "eap是否允许托盘进站"
        },
        "is_eap_reply_product_in": {
            "dvid": 606,
            "value_type": "BOOL",
            "description": "eap是否回复了产品进站请求"
        },
        "is_allow_product_in": {
            "dvid": 607,
            "value_type": "UINT_4",
            "description": "eap是否允许产品进站"
        }
    },
    "remote_commands": {
        "pp_select": {
            "rcmd": "pp_select",
            "params": [
                "recipe_name"
            ],
            "description": "eap通知设备切换配方"
        },
        "carrier_in_reply": {
            "rcmd": "carrier_in_reply",
            "params": [
                "is_allow_carrier_in",
                "lot_name"
            ],
            "description": "eap监控到1003 carrier_in_request事件后，eap回复空的托盘是否可以进站"
        },
        "product_in_carrier_reply": {
            "rcmd": "product_in_carrier_reply",
            "params": [
                "is_allow_product",
                "lot_name"
            ],
            "description": "eap监控到1004 product_in_carrier_request事件后，eap回复产品是否可以做"
        }
    },
    "signal_address": {
        "uploading_modbus": {
            "mes_heart": {
                "description": "MES 心跳 2s 更新一次",
                "address": "Application.gvl_OPMODE01_MES.mes2plc.geneal.heartBeat",
                "data_type": "bool",
                "size": 1,
                "bit_index": 0
            },
            "control_state": {
                "description": "实时监控设备的控制状态",
                "address": "Application.gvl_OPMODE01_MES.MESbypass",
                "data_type": "int",
                "size": 1
            },
            "machine_state": {
                "description": "实时监控设备的运行状态",
                "address": "Application.gvl_OPMODE01_MES.plc2mes.geneal.deviceState",
                "data_type": "int",
                "size": 1
            },
            "alarm_id": {
                "description": "出现报警时, 报警id",
                "address": "Application.gvl_OPMODE01_MES.plc2mes.geneal.alarmCode",
                "data_type": "str",
                "size": 30
            },
            "current_recipe_id": {
                "description": "当前配方id",
                "address": "Application.gvl_OPMODE01_MES.RecipeID",
                "data_type": "int",
                "size": 1
            },
            "pp_select": {
                "description": "切换配方",
                "call_backs": [
                    {
                        "description": "写入要切换的配方id",
                        "operation_func": "write_sv_value",
                        "address": "Application.gvl_OPMODE01_MES.mes2plc.changeOver.recipeID",
                        "data_type": "int",
                        "size": 1,
                        "sv_name": "pp_select_recipe_id"
                    },
                    {
                        "description": "写入要切换的配方指令",
                        "operation_func": "write_specify_value",
                        "address": "Application.gvl_OPMODE01_MES.mes2plc.changeOver.CMD",
                        "data_type": "int",
                        "size": 1,
                        "value": 2
                    },
                    {
                        "description": "清空 通知 plc 切换配方信号",
                        "premise_address": "Application.gvl_OPMODE01_MES.plc2mes.changeOver.CMD",
                        "premise_value": 2,
                        "premise_data_type": "int",
                        "premise_data_size": 1,
                        "premise_time_out": 3,
                        "operation_func": "write_specify_value",
                        "address": "Application.gvl_OPMODE01_MES.mes2plc.changeOver.CMD",
                        "data_type": "int",
                        "size": 1,
                        "value": 0
                    },
                    {
                        "description": "读取设备当前配方id",
                        "operation_func": "read_update_sv",
                        "address": "Application.gvl_OPMODE01_MES.RecipeID",
                        "data_type": "int",
                        "size": 1,
                        "sv_name": "current_recipe_id"
                    }
                ]
            },

            "carrier_in_request": {
                "loop": true,
                "description": "空的托盘请求进站",
                "address": "",
                "data_type": "int",
                "size": 1,
                "value": 1,
                "call_backs": [
                    {
                        "description": "清除eap是否回复了托盘进站请求",
                        "operation_func": "clean_eap_reply",
                        "dv_name": "is_eap_reply_carrier_in"
                    },
                    {
                        "description": "读取托盘码",
                        "operation_func": "read_update_dv",
                        "address": "",
                        "data_type": "str",
                        "size": 30,
                        "dv_name": "carrier_code",
                        "event_name": "carrier_in_request"
                    },
                    {
                        "description": "等待 eap 回复托盘是否允许进站",
                        "operation_func": "wait_eap_reply",
                        "dv_name": "is_eap_reply_carrier_in",
                        "not_allow_dv_name": "is_allow_carrier_in",
                        "not_allow_dv_value": 1
                    },
                    {
                        "description": "写入 eap 是否允许托盘进站",
                        "operation_func": "write_dv_value",
                        "address": "Application.gvl_OPMODE01_MES.mes2plc.TrackIn.Status",
                        "data_type": "int",
                        "size": 1,
                        "dv_name": "is_allow_carrier_in"
                    },
                    {
                        "description": "MES 清空空的托盘请求进站请求信号, 写入 -1",
                        "operation_func": "write_specify_value",
                        "address": "Application.gvl_OPMODE01_MES.mes2plc.TrackIn.Resp",
                        "data_type": "int",
                        "size": 1,
                        "value": -1
                    }
                ]
            },
            "product_in_carrier_request": {
                "loop": true,
                "description": "产品请求放进托盘",
                "address": "",
                "data_type": "int",
                "size": 1,
                "value": 1,
                "call_backs": [
                    {
                        "description": "清除eap是否回复了产品进站请求",
                        "operation_func": "clean_eap_reply",
                        "dv_name": "is_eap_reply_product_in"
                    },
                    {
                        "description": "读取产品码",
                        "operation_func": "read_update_dv",
                        "address": "",
                        "data_type": "str",
                        "size": 30,
                        "dv_name": "product_code",
                        "event_name": "product_in_carrier_request"
                    },
                    {
                        "description": "等待 eap 回复产品是否允许进站",
                        "operation_func": "wait_eap_reply",
                        "dv_name": "is_eap_reply_product_in",
                        "not_allow_dv_name": "is_allow_product_in",
                        "not_allow_dv_value": 1
                    },
                    {
                        "description": "写入 eap 是否允许产品进站",
                        "operation_func": "write_dv_value",
                        "address": "",
                        "data_type": "int",
                        "size": 1,
                        "dv_name": "is_allow_product_in"
                    },
                    {
                        "description": "MES 清空产品请求放进托盘请求信号, 写入 -1",
                        "operation_func": "write_specify_value",
                        "address": "",
                        "data_type": "int",
                        "size": 1,
                        "value": -1
                    }
                ]
            },
            "product_in_carrier": {
                "loop": true,
                "description": "产品放进托盘",
                "address": "",
                "data_type": "int",
                "size": 1,
                "value": 1,
                "call_backs": [
                    {
                        "description": "读取产品码",
                        "operation_func": "read_update_dv",
                        "address": "",
                        "data_type": "str",
                        "size": 30,
                        "dv_name": "product_code"
                    },
                    {
                        "description": "读取托盘码",
                        "operation_func": "read_update_dv",
                        "address": "",
                        "data_type": "str",
                        "size": 30,
                        "dv_name": "carrier_code",
                        "event_name": "product_in_carrier"
                    },
                    {
                        "description": "MES 清空产品放进托盘信号, 写入 -1",
                        "operation_func": "write_specify_value",
                        "address": "",
                        "data_type": "int",
                        "size": 1,
                        "value": -1
                    }
                ]
            },
            "carrier_out": {
                "loop": true,
                "description": "放了产品的托盘出站",
                "address": "",
                "data_type": "int",
                "size": 1,
                "value": 1,
                "call_backs": [
                    {
                        "description": "读取托盘码",
                        "operation_func": "read_update_dv",
                        "address": "",
                        "data_type": "str",
                        "size": 30,
                        "dv_name": "carrier_code",
                        "event_name": "carrier_out"
                    },
                    {
                        "description": "MES 清空放了产品的托盘出站信号, 写入 -1",
                        "operation_func": "write_specify_value",
                        "address": "",
                        "data_type": "int",
                        "size": 1,
                        "value": -1
                    }
                ]
            }

        }
    },
    "all_recipe": {
        "1": "S6A"
    }
}